<%- include("includes/addheader.ejs") %>

<section class="vh-100">
  <div class="container-fluid h-custom">
    <div>
      <% if (typeof errorsArr != 'undefined') {%>
      <div class="alert alert-danger alert-dismissible fade show" role="alert">
        <button
          type="button"
          class="close"
          data-dismiss="alert"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
          <span class="sr-only">Close</span>
        </button>
        <strong>Errors!</strong> <br />
        <% for (let index = 0; index < errorsArr.length; index++) { %>
        <%=errorsArr[index]%> <br />
        <%} %>
      </div>
      <% } %>
    </div>
  </div>
  <div class="row d-flex justify-content-center align-items-center h-100">
    <div class="col-md-8 col-lg-12 col-xl-12">
      <form action="/user/<%= assignment.id %>" method="post">
        <div class="form-outline mb-2 input">
          <input
            type="text"
            id="form3Example3"
            name="name"
            class="form-control form-control editText"
            value="<%= assignment.name %>"
          />
        </div>

        <div class="form-outline mb-2 input">
          <input
            type="date"
            id="form3Example3"
            name="due_date"
            class="form-control form-control editText"
            value="<%= assignment.due_date.toISOString().split('T')[0] %>"
          />
        </div>

        <div class="form-outline mb-2 input">
          <textarea
            id="form3Example3"
            name="description"
            class="form-control form-control editText"
          >
<%= assignment.description %></textarea
          >
        </div>

        <div class="form-outline mb-2 input">
          <select
            id="form3Example3"
            name="course_id"
            class="form-control form-control editText"
          >
            <option value="<%= assignment.course_id %>" selected>
              <%= assignment.course.course_name %>
            </option>
            <% courses.forEach(course => { %>
            <option value="<%= course.course_id %>">
              <%= course.course_name %>
            </option>
            <% }); %>
          </select>
        </div>

        <input
          type="hidden"
          id="form3Example3"
          name="userId"
          class="form-control form-control editText"
          value="<%= userData.user_id %>"
        />
        <div class="text-center text-lg-start mt-4 pt-2" id="login-assets">
          <button
            type="submit"
            class="btn button"
            style="text-align: center; margin-right: 2px; width: 15rem"
          >
            Update Assignment
          </button>
        </div>
      </form>
    </div>
  </div>
</section>
<%- include("includes/footer.ejs") %>
